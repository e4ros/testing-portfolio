/* ===== tokens / reset ===== */
*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;height:100%}
img{max-width:100%;display:block}
a{color:inherit;text-decoration:none}

:root{
  --bg:#fff; --fg:#0b0b0b; --muted:#777; --line:#e7e7e7;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;

  /* center region */
  --center-w: min(1100px, 78vw);
  --center-h: min(620px, 64vh);

  /* grid (home) */
  --cols: 4;
  --gap: 12px;
  --radius: 10px;
  --tile-ratio: 4/3;

  --pad: 14px;
}

@media (prefers-color-scheme: dark){
  :root{--bg:#0b0b0b; --fg:#f2f2f2; --muted:#aaa; --line:#2a2a2a;}
}

/* ===== page frame: lock to viewport (no outer scroll) ===== */
body{
  background:var(--bg); color:var(--fg); font-family:var(--sans);
  height:100vh; overflow:hidden;
  display:grid; grid-template-rows:auto 1fr auto;
}

/* ===== shared header ===== */
header{
  position:relative; height:68px; display:flex; align-items:center;
  border-bottom:none;
  padding-left:20px;
}

/* Pin header & nav fonts so About's serif doesn't override them */
header, .title, .side-links { font-family: var(--sans) !important; }

.title{
  font-weight:600; font-size:clamp(18px,3vw,26px); text-align:left; text-decoration:none;
}

/* ===== right-side vertical nav (PINNED to viewport) =====
   (changed from absolute-in-header -> fixed to window)
*/
.side-links{
  position:fixed; right:20px; top:50%; transform:translateY(-50%);
  display:flex; flex-direction:column; gap:12px;
  font:14px var(--mono); text-align:right; z-index:10;

  /* keep it on-screen for short windows; internal scroll if needed */
  max-height: calc(100vh - 120px);
  overflow:auto;
  scrollbar-width: thin;
}
.side-links a{color:var(--muted); text-decoration:none}
.side-links a:hover{color:var(--fg)}

@media (max-height:560px){
  .side-links{ gap:8px; font-size:12px; }
}
@media (max-height:460px){
  .side-links{ gap:6px; font-size:11px; }
}

/* ===== center panels ===== */
main{display:grid; place-items:center; padding:10px; overflow:hidden}
.center{
  width:var(--center-w); height:var(--center-h);
  display:grid; border:1px solid var(--line); border-radius:12px;
  background:color-mix(in oklab, var(--bg) 96%, transparent);
  padding:10px;
  overflow:hidden; /* contain inner scroll areas */
}

/* ===== home: grid panel ===== */
.grid-panel{display:grid; grid-template-rows:auto 1fr; gap:10px}
.grid-head{display:flex; align-items:center; justify-content:space-between; font:12px var(--mono); color:var(--muted)}
.grid{
  display:grid; grid-template-columns: repeat(var(--cols), 1fr); gap:var(--gap);
}
.tile{
  border:1px solid var(--line); border-radius:var(--radius); overflow:hidden;
  display:grid; grid-template-rows:auto 1fr auto;
  background:color-mix(in oklab, var(--bg) 98%, transparent);
}
.meta{padding:8px var(--pad); display:grid; gap:4px}
.t{font-weight:600; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.k{font:11px var(--mono); color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.thumb{aspect-ratio:var(--tile-ratio); background:
  repeating-linear-gradient(45deg, color-mix(in oklab,var(--bg) 94%, transparent) 0 10px, transparent 10px 20px);
  display:grid; place-items:center; color:var(--muted); font:12px var(--mono);}
.thumb img{width:100%; height:100%; object-fit:cover}
.cta{border-top:1px solid var(--line); padding:6px var(--pad); font:12px var(--mono); color:var(--muted)}

/* ===== about/contact: content area ===== */
.content{
  display:block; overflow:auto; padding:6px 10px; /* internal scroll if long */
}
.content h1{margin:0 0 8px; font-size:20px}
.content p{margin:0 0 12px; line-height:1.55}
.content .small{font:12px var(--mono); color:var(--muted)}
.content a{text-decoration:underline}

/* ===== footer ===== */
footer{
  height:40px; display:flex; align-items:center; justify-content:center;
  border-top:1px solid var(--line); color:var(--muted); font:12px var(--mono);
}

/* ===== responsive ===== */
@media (max-width:980px){ :root{ --cols:3; } }
@media (max-width:720px){
  :root{ --cols:2; --center-w:92vw; --center-h:66vh; }
}

/* ===== About page: keep unique BODY TEXT font, not header/nav =====
   (changed: remove global body.about override; scope serif to .content only)
*/
.about .content{
  font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
}

/* If you also want About's tile/meta text serif INSIDE content, uncomment:
.about .content .k,
.about .content .t { font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; }
*/
