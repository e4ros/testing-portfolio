<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ethan Granat</title>
<meta name="color-scheme" content="light dark" />
<style>
  *,*::before,*::after{box-sizing:border-box}
  html,body{margin:0;height:100%}
  img{max-width:100%;display:block}
  a{color:inherit;text-decoration:none}

  :root{
    --bg:#fff; --fg:#0b0b0b; --muted:#777; --line:#e7e7e7;
    --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial;
    --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;

    --center-w: min(1100px, 78vw);
    --center-h: min(620px, 64vh);

    --cols: 4;
    --gap: 12px;
    --radius: 10px;
    --tile-ratio: 4/3;

    --pad: 14px;

    /* fixed mosaic size */
    --rows: 5;
    --mcols: 7;

    /* spacing between mosaic tiles */
    --m-gap: 10px;
  }

  @media (prefers-color-scheme: dark){
    :root{--bg:#0b0b0b; --fg:#f2f2f2; --muted:#aaa; --line:#2a2a2a;}
  }

  body{
    background:var(--bg); color:var(--fg); font-family:var(--sans);
    height:100vh; display:grid;
    grid-template-rows:auto 1fr auto;
    overflow:hidden; /* lock viewport, no scroll */
  }

  header{
    position:relative; height:68px; display:flex; align-items:center;
    border-bottom:none; padding-left:20px;
  }
  .title{font-weight:600; font-size:clamp(18px,3vw,26px);}

  .side-links{
    position:fixed; right:20px; top:50%; transform:translateY(-50%);
    display:flex; flex-direction:column; gap:12px;
    font:14px var(--mono); text-align:right; z-index:10;
  }
  .side-links a{color:var(--muted); text-decoration:none}
  .side-links a:hover{color:var(--fg)}

  main{display:grid; place-items:center; padding:10px; overflow:hidden}

  /* hide old card panel */
  .center{display:none}

  /* 7×5 image mosaic, with spacing between tiles */
  .gallery{
    height:100%;
    display:grid;
    grid-template-columns:repeat(var(--mcols), 1fr);
    grid-template-rows:repeat(var(--rows), 1fr);
    gap:var(--m-gap);
    /* no padding-right here; width is reduced via JS so the grid stays centered */
  }
  .gallery .tile{
    border:none; border-radius:0; background:var(--bg);
    display:flex; align-items:center; justify-content:center;
    overflow:hidden;
  }
  /* Shade ONLY empty tiles */
  .gallery .tile:empty{
    background: color-mix(in oklab, var(--bg) 88%, var(--fg) 12%);
  }
  .gallery .tile img{
    max-width:100%; max-height:100%;
    width:auto; height:auto;            /* keep aspect ratio (modeling.html trick) */
    display:block;
  }

  footer{
    height:40px; display:flex; align-items:center; justify-content:center;
    border-top:1px solid var(--line); color:var(--muted); font:12px var(--mono);
  }

  @media (max-width:980px){ :root{ --cols:3; } }
  @media (max-width:720px){
    :root{ --cols:2; --center-w:92vw; --center-h:66vh;}
  }
</style>
</head>
<body>

<header>
  <div class="title">Ethan Granat</div>
</header>

<nav class="side-links" aria-label="Site links">
  <a href="bonito.html">Bonito</a>
  <a href="modeling.html">Modeling</a>
  <a href="news.html">News</a>
  <a href="projects.html">Projects</a>
  <a href="about.html">About</a>
  <a href="contact.html">Contact</a>
</nav>

<main>
  <div class="gallery" id="gallery" aria-label="Gallery"></div>
</main>

<footer>© <span id="y"></span> Ethan</footer>

<script>
(function(){
  var g = document.getElementById('gallery');
  if(!g) return;

  var ROWS = 5, COLS = 7, TOTAL = ROWS * COLS;

  // Build 35 tiles
  for (var i=0;i<TOTAL;i++){
    var t = document.createElement('div');
    t.className = 'tile';
    g.appendChild(t);
  }

  // Your images (exact filenames/case from /images)
  var IMAGES = [
    'images/FK6A9868.JPG',
    'images/FK6A9835_VSCO.JPG',
    'images/FK6A9859_VSCO.JPG',
    'images/FK6A9865_VSCO.JPG',
    'images/FK6A9881_VSCO.JPG',
    'images/FK6A9964_VSCO.JPG',
    'images/IMG_8078.JPG',
    'images/IMG_8079.JPG'
  ];

  // Drop them into the first N tiles
  var tiles = g.querySelectorAll('.tile');
  for (var j=0; j<IMAGES.length && j<tiles.length; j++){
    var img = new Image();
    img.alt = '';
    img.src = IMAGES[j];
    img.style.maxWidth = '100%';
    img.style.maxHeight = '100%';
    img.style.width = 'auto';
    img.style.height = 'auto';
    tiles[j].appendChild(img);
  }

  // Helpers
  function vpad(el){
    var cs = window.getComputedStyle ? getComputedStyle(el) : el.currentStyle;
    return (parseFloat(cs.paddingTop)||0) + (parseFloat(cs.paddingBottom)||0);
  }

  // Size gallery to visible area; reduce width by menu width + 36 so grid stays centered
  function fit(){
    var vh     = (window.visualViewport && window.visualViewport.height)
                 || window.innerHeight || document.documentElement.clientHeight || 0;
    var header = document.querySelector('header');
    var footer = document.querySelector('footer');
    var main   = document.querySelector('main');
    var menu   = document.querySelector('.side-links');

    var headerH = header ? header.offsetHeight : 0;
    var footerH = footer ? footer.offsetHeight : 0;
    var mainPad = main ? vpad(main) : 0;

    // Height between header/footer (no page scroll)
    g.style.height = Math.max(0, vh - headerH - footerH - mainPad) + 'px';

    // Compute width reduction for the fixed right menu (+36 breathing room)
    var rightReserve = 0;
    if (menu) {
      var mr = menu.getBoundingClientRect();
      rightReserve = Math.ceil(mr.width) + 36; // << increased breathing room
    }

    // main has 10px left + 10px right padding = 20px
    var w = 'calc(100vw - ' + (20 + rightReserve) + 'px)';
    g.style.maxWidth = w;
    g.style.width = w;   // with main { place-items:center }, this keeps the grid centered
  }

  fit();
  window.addEventListener('load', fit);
  window.addEventListener('resize', fit);
  window.addEventListener('orientationchange', fit);
  window.addEventListener('pageshow', fit);

  var y = document.getElementById('y');
  if (y) y.textContent = new Date().getFullYear();
})();
</script>
</body>
</html>
