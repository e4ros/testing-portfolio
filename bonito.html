<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bonito — Ethan Granat</title>
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="style.css">
  <style>
    /* tiny, page-local style just for the IG link */
    .ext-link {
      position:absolute; left:12px; top:10px;
      font:12px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      color: var(--muted, #777); text-decoration: none;
    }
    .ext-link:hover { text-decoration: underline; color: inherit; }
  </style>
</head>
<body class="bonito">
  <header>
    <div class="title">Ethan Granat</div>
  </header>

  <!-- fixed side menu (make sure this appears on your other pages too) -->
  <nav class="side-links" aria-label="Site links">
    <a href="modeling.html">Modeling</a>
    <a href="news.html">News</a>
    <a href="index.html">Projects</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="bonito.html" aria-current="page">Bonito</a>
  </nav>

  <main>
    <div class="gallery" id="gallery" aria-label="Bonito Video Area"></div>
  </main>

  <footer>© <span id="y"></span> Ethan</footer>

  <script>
  (function () {
    var g = document.getElementById('gallery');
    if (!g) return;

    // center content in the gallery
    g.style.position = 'relative';
    g.style.display = 'flex';
    g.style.alignItems = 'center';
    g.style.justifyContent = 'center';

    // Instagram link
    var link = document.createElement('a');
    link.className = 'ext-link';
    link.href = 'https://www.instagram.com/reel/DFdfDSjPm6w/';
    link.target = '_blank';
    link.rel = 'noopener';
    link.textContent = 'View on Instagram →';
    g.appendChild(link);

    // Video (must exist at /videos/bonitov5.mp4 in your repo)
    var vid = document.createElement('video');
    vid.controls = true;
    vid.playsInline = true;
    vid.preload = 'metadata';
    vid.src = '/testing-portfolio/videos/bonitov5.mp4';
    vid.style.maxHeight = '100%';
    vid.style.width = 'auto';
    vid.style.height = 'auto';
    vid.style.display = 'block';
    g.appendChild(vid);

    function vpad(el){
      var cs = window.getComputedStyle ? getComputedStyle(el) : el.currentStyle;
      return (parseFloat(cs.paddingTop)||0) + (parseFloat(cs.paddingBottom)||0);
    }

    function fit(){
      // height between header and footer (no page scroll)
      var vh = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0;
      var header = document.querySelector('header');
      var footer = document.querySelector('footer');
      var main   = document.querySelector('main');
      var menu   = document.querySelector('.side-links');

      var headerH = header ? header.offsetHeight : 0;
      var footerH = footer ? footer.offsetHeight : 0;
      var mainPad = main ? vpad(main) : 0;

      var h = Math.max(0, vh - headerH - footerH - mainPad);
      g.style.height = h + 'px';

      // keep video out from under right-side menu on desktop
      var rightReserve = 0;
      if (menu) rightReserve = Math.ceil(menu.getBoundingClientRect().width) + 12;

      // main has 10px left + 10px right padding = 20px
      vid.style.maxWidth = 'calc(100vw - ' + (20 + rightReserve) + 'px)';
    }

    fit();
    window.addEventListener('load', fit);
    window.addEventListener('resize', fit);
    window.addEventListener('orientationchange', fit);
    window.addEventListener('pageshow', fit);
    vid.addEventListener('loadedmetadata', fit);

    var y = document.getElementById('y');
    if (y) y.textContent = new Date().getFullYear();
  })();
  </script>
</body>
</html>
